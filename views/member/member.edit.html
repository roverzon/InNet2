<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>人員資訊</h2>
    </div>
    <div class="col-lg-2">
    </div>
</div>
<div class="wrapper wrapper-content">
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="row">
				<div class="col-xs-9">
					<div class="alert alert-{{alert.type}}" role="alert" ng-repeat="alert in alerts">
						<div class="row">
							<div class="col-md-9">
								{{alert.msg}}
							</div>
							<div class="col-md-3">
								<button ng-if="alert.type != 'danger' " type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="closeAlert($index)"><span aria-hidden="true">&times;</span></button>
								<div ng-if="alert.type == 'danger'">
									<div class="btn btn-success"  ng-click="alert.execute($index)">確認</div>
									<div class="btn btn-info" ng-click="alert.cancel($index)">取消</div>
								</div>
							</div>
						</div>				
					</div>
				</div>
				<div class="col-xs-3">
					<div class="btn btn-success btn-block" ng-click="addNewMember()">
						<i class="fa fa-plus"></i>
						<span>新增</span>
					</div>
					<div class="btn btn-warning btn-block" ng-click="save()">
						<i class="fa fa-sort-desc"></i>
						<span>存擋</span>
					</div>
				</div>
			</div>
			<div class="list-group">
			    <div class="table-responsive">
	                <table class="table table-striped">
	                    <thead>
		                    <tr>
		                        <th>無線電代號</th>
		                        <th>姓名</th>
		                        <th>職稱</th>
		                        <th>氣量時間</th>
		                        <th>分隊</th>
		                        <th>大隊</th>
		                        <th>帳號狀態</th>
		                        <th></th>
		                    </tr>
	                    </thead>
	                    <tbody>
		                    <tr ng-repeat="member in members" ng-class="{ warning : member.isUser}">
		                        <td>{{::member.radioCodePrefix}} {{::member.radioCode}}</td>
		                        <td>{{::member.name}}</td>
		                        <td>{{::member.title}}</td>
		                        <td>{{::member.workingTime.minutes()}} 分鐘  {{::member.workingTime.seconds()}} 秒</td>
		                        <td>{{::member.branch}}</td>
		                        <td>{{::member.corps}}</td>
		                        <td>
		                        	<p ng-if="member.isUser">已開通</p>
		                        	<p ng-if="!member.isUser">未開通</p>
		                        </td>
		                        <td ng-if="accessLevel > 1">
		                        	<div class="btn btn-primary" ng-click="update(member)">修改</div>
		                        	<div class="btn btn-danger" ng-click="deleteAlert(member)">刪除</div>
		                        	<div class="btn btn-warning" ng-click="activateAccount(member)" ng-if="!member.isUser">帳號開通</div>
		                        	<div class="btn btn-info" ng-click="deActivateAlert(member)" ng-if="member.isUser">帳號關閉</div>
		                        </td>
		                    </tr>
	                    </tbody>
	                </table>
	            </div>
			</div> 
		</div>
	</div>
</div>